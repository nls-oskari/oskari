Oskari.clazz.define("Oskari.mapframework.bundle.mapstats.plugin.StatsLayerPlugin",function(e){this.mapModule=null,this.pluginName=null,this._sandbox=null,this._map=null,this._supportedFormats={},this._statsDrawLayer=null,this._highlightCtrl=null,this._navCtrl=null,this._getFeatureControlHover=null,this._getFeatureControlSelect=null,this._modeVisible=!1,this.config=e,this.ajaxUrl=null,e&&e.ajaxUrl&&(this.ajaxUrl=e.ajaxUrl),e&&e.published&&(this._modeVisible=e.published)},{__name:"StatsLayerPlugin",_layerType:"STATS",getName:function(){return this.pluginName},getMapModule:function(){return this.mapModule},setMapModule:function(e){this.mapModule=e,this.pluginName=e.getName()+this.__name},hasUI:function(){return!1},register:function(){this.getMapModule().setLayerPlugin("statslayer",this)},unregister:function(){this.getMapModule().setLayerPlugin("statslayer",null)},init:function(e){var t=(this.config?this.config.sandbox:null)||"sandbox",n=Oskari.getSandbox(t),r=n.getService("Oskari.mapframework.service.MapLayerService");if(r){r.registerLayerModel("statslayer","Oskari.mapframework.bundle.mapstats.domain.StatsLayer");var i=Oskari.clazz.create("Oskari.mapframework.bundle.mapstats.domain.StatsLayerModelBuilder",n);r.registerLayerModelBuilder("statslayer",i)}},startPlugin:function(e){this._sandbox=e,this._map=this.getMapModule().getMap(),e.register(this);var t;for(t in this.eventHandlers)this.eventHandlers.hasOwnProperty(t)&&e.registerForEventByName(this,t);this.ajaxUrl||(this.ajaxUrl=e.getAjaxUrl()+"action_route=GetStatsTile")},stopPlugin:function(e){var t;for(t in this.eventHandlers)this.eventHandlers.hasOwnProperty(t)&&e.unregisterFromEventByName(this,t);e.unregister(this),this._map=null,this._sandbox=null},start:function(e){},stop:function(e){},eventHandlers:{AfterMapLayerAddEvent:function(e){this._afterMapLayerAddEvent(e)},AfterMapLayerRemoveEvent:function(e){this._afterMapLayerRemoveEvent(e)},MapLayerVisibilityChangedEvent:function(e){this._mapLayerVisibilityChangedEvent(e)},AfterChangeMapLayerOpacityEvent:function(e){this._afterChangeMapLayerOpacityEvent(e)},AfterChangeMapLayerStyleEvent:function(e){},"MapStats.StatsVisualizationChangeEvent":function(e){this._afterStatsVisualizationChangeEvent(e)},"StatsGrid.ModeChangedEvent":function(e){this._afterModeChangedEvent(e)},"StatsGrid.SelectHilightsModeEvent":function(e){this._hilightFeatures(e)},"StatsGrid.ClearHilightsEvent":function(e){this._clearHilights(e)},"MapStats.HoverTooltipContentEvent":function(e){this._afterHoverTooltipContentEvent(e)}},onEvent:function(e){return this.eventHandlers[e.getName()].apply(this,[e])},preselectLayers:function(e){var t=this._sandbox,n,r,i;for(n=0;n<e.length;n++)r=e[n],i=r.getId(),r.isLayerOfType(this._layerType)&&(t.printDebug("preselecting "+i),this._addMapLayerToMap(r,!0,r.isBaseLayer()))},activateControls:function(){this._getFeatureControlHover.activate(),this._getFeatureControlSelect.activate()},deactivateControls:function(){this._getFeatureControlHover.deactivate(),this._getFeatureControlSelect.deactivate()},_afterMapLayerAddEvent:function(e){this._addMapLayerToMap(e.getMapLayer(),e.getKeepLayersOrder(),e.isBasemap())},_addMapLayerToMap:function(e,t,n){var r=this,i=r._sandbox.getEventBuilder("MapStats.FeatureHighlightedEvent"),s;if(!e.isLayerOfType(this._layerType))return;var o=this._map.getLayersByName("Markers"),u;if(o)for(u=0;u<o.length;u++)o[u]&&this._map.removeLayer(o[u],!1);var a=this.getMapModule().calculateLayerScales(e.getMaxScale(),e.getMinScale()),f=new OpenLayers.Layer.WMS("layer_"+e.getId(),this.ajaxUrl+"&LAYERID="+e.getId(),{layers:e.getWmsName(),transparent:!0,format:"image/png"},{scales:a,isBaseLayer:!1,displayInLayerSwitcher:!1,visibility:!0,singleTile:!0,buffer:0});this._statsDrawLayer=new OpenLayers.Layer.Vector("Stats Draw Layer",{styleMap:new OpenLayers.StyleMap({"default":new OpenLayers.Style({fillOpacity:0,strokeOpacity:0}),temporary:new OpenLayers.Style({strokeColor:"#ff6666",strokeOpacity:1,strokeWidth:3,fillColor:"#ff0000",fillOpacity:0,graphicZIndex:2,cursor:"pointer"}),select:new OpenLayers.Style({})})}),this._map.addLayers([this._statsDrawLayer]),this._statsDrawLayer.events.register("moveend",this._statsDrawLayer,function(){r.mapModule.notifyMoveEnd()}),this._highlightCtrl=new OpenLayers.Control.SelectFeature(this._statsDrawLayer,{hover:!0,highlightOnly:!0,outFeature:function(e){r._highlightCtrl.unhighlight(e),r._removePopup()},renderIntent:"temporary"}),this._map.addControl(this._highlightCtrl),this._highlightCtrl.activate(),this._navCtrl=new OpenLayers.Control.Navigation,this._map.addControl(this._navCtrl);var l=[f];this._getFeatureControlHover=new OpenLayers.Control.WMSGetFeatureInfo({drillDown:!1,hover:!0,handlerOptions:{hover:{delay:0},stopSingle:!1},infoFormat:"application/vnd.ogc.gml",layers:l,eventListeners:{getfeatureinfo:function(e){var t=r._map.getLayersByName("Stats Draw Layer")[0],n;if(typeof t=="undefined")return;if(e.features.length===0){for(n=0;n<t.features.length;n++)t.features[n].selected||t.removeFeatures([t.features[n]]);r._removePopup();return}var i=!1,s="kuntakoodi";for(n=0;n<t.features.length;n++)t.features[n].attributes[s]===e.features[0].attributes[s]?i=!0:t.features[n].selected||t.removeFeatures([t.features[n]]);i||(t.addFeatures([e.features[0]]),r._highlightCtrl.highlight(e.features[0]),r._removePopup(),r._addPopup(e)),t.redraw()},beforegetfeatureinfo:function(e){},nogetfeatureinfo:function(e){}}}),this._map.addControl(this._getFeatureControlHover),this._modeVisible&&this._getFeatureControlHover.activate(),this._getFeatureControlSelect=new OpenLayers.Control.WMSGetFeatureInfo({drillDown:!0,hover:!1,handlerOptions:{click:{delay:0},pixelTolerance:5},infoFormat:"application/vnd.ogc.gml",layers:l,eventListeners:{getfeatureinfo:function(e){if(e.features.length===0)return;var t=e.features[0],n=r._map.getLayersByName("Stats Draw Layer")[0];if(typeof n=="undefined")return;var o=-1,u="kuntakoodi",a;for(a=0;a<n.features.length;a++)if(n.features[a].attributes[u]===e.features[0].attributes[u]){o=a;break}var f=OpenLayers.Util.applyDefaults(f,OpenLayers.Feature.Vector.style["default"]);f.fillColor="#ff0000",f.strokeColor="#ff3333",f.strokeWidth=3,f.fillOpacity=.2,o>=0?(n.features[a].selected=!n.features[a].selected,n.features[a].selected?n.features[a].style=f:(n.features[a].style=null,r._highlightCtrl.highlight(n.features[a])),i&&(s=i(n.features[a],n.features[a].selected,"click"))):(n.addFeatures([t]),t.selected=!0,t.style=f,i&&(s=i(t,t.selected,"click"))),n.redraw(),s&&r._sandbox.notifyAll(s)},beforegetfeatureinfo:function(e){},nogetfeatureinfo:function(e){}}}),this._map.addControl(this._getFeatureControlSelect),this._modeVisible&&this._getFeatureControlSelect.activate(),f.opacity=e.getOpacity()/100,this._map.addLayer(f),this._sandbox.printDebug("#!#! CREATED OPENLAYER.LAYER.WMS for StatsLayer "+e.getId()),t?this._map.setLayerIndex(f,this._map.layers.length):this._map.setLayerIndex(f,0);if(o)for(u=0;u<o.length;u++)o[u]&&this._map.addLayer(o[u])},_afterModeChangedEvent:function(e){this._modeVisible=e.isModeVisible();var t=this._map.getLayersByName("Stats Draw Layer")[0];this._modeVisible?this.activateControls():(this.deactivateControls(),t&&t.removeAllFeatures(),this._removePopup())},_clearHilights:function(e){var t=this._map.getLayersByName("Stats Draw Layer")[0],n;if(t)for(n=0;n<t.features.length;n++)t.features[n].style=null,this._highlightCtrl.highlight(t.features[n]);t.redraw(),this._removePopup()},_hilightFeatures:function(e){var t=e.getCodes(),n=this._map.getLayersByName("Stats Draw Layer")[0];if(typeof n=="undefined")return;var r="kuntakoodi",i=OpenLayers.Util.applyDefaults(i,OpenLayers.Feature.Vector.style["default"]);i.fillColor="#ff0000",i.strokeColor="#ff3333",i.strokeWidth=3,i.fillOpacity=.2;var s,o;for(s in t)if(t.hasOwnProperty(s))for(o=0;o<n.features.length;o++)if(n.features[o].attributes[r]===s&&t[s]){n.features[o].style=i,this._highlightCtrl.highlight(n.features[o]);break}n.redraw()},_afterMapLayerRemoveEvent:function(e){var t=e.getMapLayer();if(!t.isLayerOfType(this._layerType))return;this._removeMapLayerFromMap(t),this._highlightCtrl.deactivate(),this._getFeatureControlHover.deactivate(),this._getFeatureControlSelect.deactivate(),this._map.removeControl(this._highlightCtrl),this._map.removeControl(this._navCtrl),this._map.removeControl(this._getFeatureControlHover),this._map.removeControl(this._getFeatureControlSelect),this._map.removeLayer(this._statsDrawLayer)},_mapLayerVisibilityChangedEvent:function(e){var t=e.getMapLayer();if(t._layerType!=="STATS")return;this._statsDrawLayer.setVisibility(t.isVisible()),this._modeVisible&&(t.isVisible()?(this._getFeatureControlHover.activate(),this._getFeatureControlSelect.activate()):(this._getFeatureControlHover.deactivate(),this._getFeatureControlSelect.deactivate()))},_removeMapLayerFromMap:function(e){if(!e.isLayerOfType(this._layerType))return;var t=this.getOLMapLayers(e);t[0].destroy()},getOLMapLayers:function(e){return e.isLayerOfType(this._layerType)?this._map.getLayersByName("layer_"+e.getId()):null},_removePopup:function(e){e=e||this._popup,e&&this._map.removePopup(e)},_addPopup:function(e){var t=e.features[0].attributes.kuntanimi;this._popup=new OpenLayers.Popup("mapstatsHover",this._map.getLonLatFromPixel(new OpenLayers.Pixel(e.xy.x+5,e.xy.y+5)),new OpenLayers.Size(100,100),t),this._popup.autoSize=!0,this._popup.opacity=.8,this._map.addPopup(this._popup);var n=this._sandbox.getRequestBuilder("StatsGrid.TooltipContentRequest");if(n){var r=n(e.features[0]);this._sandbox.request(this,r)}},_afterHoverTooltipContentEvent:function(e){var t=e.getContent();this._popup&&this._popup.setContentHTML(t)},_afterChangeMapLayerOpacityEvent:function(e){var t=e.getMapLayer();if(!t.isLayerOfType(this._layerType))return;this._sandbox.printDebug("Setting Layer Opacity for "+t.getId()+" to "+t.getOpacity());var n=this.getOLMapLayers(t);n[0]!==null&&n[0]!==undefined&&n[0].setOpacity(t.getOpacity()/100)},_afterChangeMapLayerStyleEvent:function(e){var t=e.getMapLayer(),n=this.getOLMapLayers(t);n!==null&&n!==undefined&&n[0].mergeNewParams({VIS_ID:t.getCurrentStyle().getName(),VIS_NAME:"oskari:Kunnat2013",VIS_ATTR:"Kuntakoodi",VIS_CLASSES:"020,091|186,086,982|111,139,740",VIS_COLORS:"choro:ccffcc|99cc99|669966"})},_afterStatsVisualizationChangeEvent:function(e){var t=e.getLayer(),n=e.getParams(),r=this.getOLMapLayers(t);r!==null&&r!==undefined&&r[0].mergeNewParams({VIS_ID:n.VIS_ID,VIS_NAME:n.VIS_NAME,VIS_ATTR:n.VIS_ATTR,VIS_CLASSES:n.VIS_CLASSES,VIS_COLORS:n.VIS_COLORS})}},{protocol:["Oskari.mapframework.module.Module","Oskari.mapframework.ui.module.common.mapmodule.Plugin"]}),define("bundles/framework/bundle/mapstats/plugin/StatsLayerPlugin",function(){}),Oskari.clazz.define("Oskari.mapframework.bundle.mapstats.domain.StatsLayer",function(){this._layerType="STATS"},{setWmsName:function(e){this._wmsName=e},getWmsName:function(){return this._wmsName},setFilterPropertyName:function(e){this._filterPropertyName=e},getFilterPropertyName:function(){return this._filterPropertyName}},{extend:["Oskari.mapframework.domain.AbstractLayer"]}),define("bundles/framework/bundle/mapstats/domain/StatsLayer",function(){}),Oskari.clazz.define("Oskari.mapframework.bundle.mapstats.domain.StatsLayerModelBuilder",function(e){this.localization=Oskari.getLocalization("MapStats"),this.sandbox=e},{parseLayerData:function(e,t,n){var r=this;e.setWmsName(t.wmsName),t.visualizations&&e.setFilterPropertyName(t.visualizations[0].filterproperty);var i=Oskari.clazz.builder("Oskari.mapframework.domain.Tool"),s=i(),o=r.localization.tools.table_icon;s.setName("table_icon"),s.setTitle(o.title),s.setTooltip(o.tooltip),s.setCallback(function(){r.sandbox.postRequestByName("StatsGrid.StatsGridRequest",[!0,e])}),e.addTool(s);if(e.getMetadataIdentifier()){var u=i();u.setName("info_icon"),u.setIconCls("icon-info"),u.setCallback(function(){var t="catalogue.ShowMetadataRequest",n=e.getMetadataIdentifier(),i=[],s={};s[n]=!0;var o=e.getSubLayers(),u,a;if(o&&o.length>0)for(u=0;u<o.length;u++)a=o[u].getMetadataIdentifier(),a&&a!==""&&!s[a]&&(s[a]=!0,i.push({uuid:a}));r.sandbox.postRequestByName(t,[{uuid:n},i])}),e.addTool(u)}}}),define("bundles/framework/bundle/mapstats/domain/StatsLayerModelBuilder",function(){}),Oskari.clazz.define("Oskari.mapframework.bundle.mapstats.event.StatsVisualizationChangeEvent",function(e,t){this._layer=e,this._params=t},{getName:function(){return"MapStats.StatsVisualizationChangeEvent"},getLayer:function(){return this._layer},getParams:function(){return this._params}},{protocol:["Oskari.mapframework.event.Event"]}),define("bundles/framework/bundle/mapstats/event/StatsVisualizationChangeEvent",function(){}),Oskari.clazz.define("Oskari.mapframework.bundle.mapstats.event.FeatureHighlightedEvent",function(e,t,n){this._feature=e,this._highlighted=t,this._highlightType=n},{getName:function(){return"MapStats.FeatureHighlightedEvent"},getFeature:function(){return this._feature},isHighlighted:function(){return this._highlighted},getHighlighType:function(){return this._highlightType}},{protocol:["Oskari.mapframework.event.Event"]}),define("bundles/framework/bundle/mapstats/event/FeatureHighlightedEvent",function(){}),Oskari.clazz.define("Oskari.mapframework.bundle.mapstats.event.HoverTooltipContentEvent",function(e){this._content=e},{getName:function(){return"MapStats.HoverTooltipContentEvent"},getContent:function(){return this._content}},{protocol:["Oskari.mapframework.event.Event"]}),define("bundles/framework/bundle/mapstats/event/HoverTooltipContentEvent",function(){}),define("normalize",["require","module"],function(e,t){function o(e,t,n){if(e.indexOf("data:")===0)return e;e=r(e);if(e.match(/^\//)||e.match(s))return e;var i=n.match(s),o=t.match(s);return o&&(!i||i[1]!=o[1]||i[2]!=o[2])?u(e,t):a(u(e,t),n)}function u(e,t){e.substr(0,2)=="./"&&(e=e.substr(2));var n=t.split("/"),r=e.split("/");n.pop();while(curPart=r.shift())curPart==".."?n.pop():n.push(curPart);return n.join("/")}function a(e,t){var n=t.split("/");n.pop(),t=n.join("/")+"/",i=0;while(t.substr(i,1)==e.substr(i,1))i++;while(t.substr(i,1)!="/")i--;t=t.substr(i+1),e=e.substr(i+1),n=t.split("/");var r=e.split("/");out="";while(n.shift())out+="../";while(curPart=r.shift())out+=curPart+"/";return out.substr(0,out.length-1)}var n=/([^:])\/+/g,r=function(e){return e.replace(n,"$1/")},s=/[^\:\/]*:\/\/([^\/])*/,f=function(e,t,n,i){t=r(t),n=r(n);var s=/@import\s*("([^"]*)"|'([^']*)')|url\s*\(\s*(\s*"([^"]*)"|'([^']*)'|[^\)]*\s*)\s*\)/ig,u,a,e;while(u=s.exec(e)){a=u[3]||u[2]||u[5]||u[6]||u[4];var f;i&&a.substr(0,1)=="/"?f=i+a:f=o(a,t,n);var l=u[5]||u[6]?1:0;e=e.substr(0,s.lastIndex-a.length-l-1)+f+e.substr(s.lastIndex-l-1),s.lastIndex=s.lastIndex+(f.length-a.length)}return e};return f.convertURIBase=o,f}),define("css",["./normalize"],function(e){function n(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}var t=0;if(typeof window=="undefined")return{load:function(e,t,n){n()}};var r=!1,i=document.getElementsByTagName("head")[0],s=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)/),o=!1;!s||(s[1]||s[7]?(o=parseInt(s[1])<6||parseInt(s[7])<=9,s="trident"):s[2]?(o=!0,s="webkit"):s[3]||(s[4]?(o=parseInt(s[4])<18,s="gecko"):r&&alert("Engine detection failed")));var u={},a=/^\/|([^\:\/]*:)/;u.pluginBuilder="./css-builder";var f=[],l={},c=[];u.addBuffer=function(e){if(n(f,e)!=-1)return;if(n(c,e)!=-1)return;f.push(e),c.push(e)},u.setBuffer=function(t,n){var r=window.location.pathname.split("/");r.pop(),r=r.join("/")+"/";var i=require.toUrl("base_url").split("/");i.pop();var s=i.join("/")+"/";s=e.convertURIBase(s,r,"/"),s.match(a)||(s="/"+s),s.substr(s.length-1,1)!="/"&&(s+="/"),u.inject(e(t,s,r));for(var o=0;o<f.length;o++)(n&&f[o].substr(f[o].length-5,5)==".less"||!n&&f[o].substr(f[o].length-4,4)==".css")&&(function(e){l[e]=l[e]||!0,setTimeout(function(){typeof l[e]=="function"&&l[e](),delete l[e]},7)}(f[o]),f.splice(o--,1))},u.attachBuffer=function(e,t){for(var r=0;r<f.length;r++)if(f[r]==e)return l[e]=t,!0;if(l[e]===!0)return l[e]=t,!0;if(n(c,e)!=-1)return t(),!0};var h=function(e,t){setTimeout(function(){for(var n=0;n<document.styleSheets.length;n++){var r=document.styleSheets[n];if(r.href==e.href)return t()}h(e,t)},10)},p=function(e,t){setTimeout(function(){try{return e.sheet.cssRules,t()}catch(n){}p(e,t)},10)};if(s=="trident"&&o)var d=[],v=[],m=0,g=function(e,t){var n;v.push({url:e,cb:t}),n=d.shift(),!n&&m++<31&&(n=document.createElement("style"),i.appendChild(n)),n&&y(n)},y=function(e){var t=v.shift();if(!t){e.onload=w,d.push(e);return}e.onload=function(){t.cb(t.ss),y(e)};try{var n=e.styleSheet;t.ss=n.imports[n.addImport(t.url)]}catch(r){alert("Got Error:"+r)}};var b=function(e){var t=document.createElement("link");return t.type="text/css",t.rel="stylesheet",t.href=e,t},w=function(){};u.linkLoad=function(e,t){var n=setTimeout(function(){r&&alert("timeout"),t()},A*1e3-100),u=function(){clearTimeout(n),a&&(a.onload=w),setTimeout(t,7)};if(!o){var a=b(e);a.onload=u,i.appendChild(a)}else if(s=="webkit"){var a=b(e);h(a,u),i.appendChild(a)}else if(s=="gecko"){var f=document.createElement("style");f.textContent='@import "'+e+'"',p(f,u),i.appendChild(f)}else s=="trident"&&g(e,u)};var E=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],S={},x=function(e,t,n){if(S[e]){t(S[e]);return}var r,i,s;if(typeof XMLHttpRequest!="undefined")r=new XMLHttpRequest;else if(typeof ActiveXObject!="undefined")for(i=0;i<3;i+=1){s=E[i];try{r=new ActiveXObject(s)}catch(o){}if(r){E=[s];break}}r.open("GET",e,requirejs.inlineRequire?!1:!0),r.onreadystatechange=function(i){var s,o;r.readyState===4&&(s=r.status,s>399&&s<600?(o=new Error(e+" HTTP status: "+s),o.xhr=r,n(o)):(S[e]=r.responseText,t(r.responseText)))},r.send(null)},T=0,N;u.inject=function(e){T<31&&(N=document.createElement("style"),N.type="text/css",i.appendChild(N),T++),N.styleSheet?N.styleSheet.cssText+=e:N.appendChild(document.createTextNode(e))};var C=/@import\s*(url)?\s*(('([^']*)'|"([^"]*)")|\(('([^']*)'|"([^"]*)"|([^\)]*))\))\s*;?/g,k=window.location.pathname.split("/");k.pop(),k=k.join("/")+"/";var L=function(t,n,r){t.match(a)||(t="/"+e.convertURIBase(t,k,"/")),x(t,function(i){i=e(i,t,k);var s=[],o=[],u=[],a;while(a=C.exec(i)){var f=a[4]||a[5]||a[7]||a[8]||a[9];s.push(f),o.push(C.lastIndex-a[0].length),u.push(a[0].length)}var l=0;for(var c=0;c<s.length;c++)(function(e){L(s[e],function(t){i=i.substr(0,o[e])+t+i.substr(o[e]+u[e]);var r=t.length-u[e];for(var a=e+1;a<s.length;a++)o[a]+=r;l++,l==s.length&&n(i)},r)})(c);s.length==0&&n(i)},r)};u.normalize=function(e,t){return e.substr(e.length-4,4)==".css"&&(e=e.substr(0,e.length-4)),t(e)};var A,O=!1;return u.load=function(e,t,n,i,s){A=A||i.waitSeconds||7;var a=e+(s?".less":".css");if(u.attachBuffer(a,n))return;var f=t.toUrl(a);!O&&r&&(alert(o?"hacking links":"not hacking"),O=!0),s?L(f,function(e){s&&(e=s(e,function(e){u.inject(e),setTimeout(n,7)}))}):u.linkLoad(f,n)},r&&(u.inspect=function(){if(stylesheet.styleSheet)return stylesheet.styleSheet.cssText;if(stylesheet.innerHTML)return stylesheet.innerHTML}),u}),requirejs.s.contexts._.nextTick=function(e){e()},require(["css"],function(e){e.addBuffer("resources/framework/bundle/mapstats/css/mapstats.css")}),requirejs.s.contexts._.nextTick=requirejs.nextTick,Oskari.registerLocalization({lang:"fi",key:"MapStats",value:{tools:{table_icon:{tooltip:"Siirry tilastomoodiin",title:"Tilastomoodi"},diagram_icon:{tooltip:"Näytä tiedot diagrammissa",title:"Diagrammi"},statistics:{tooltip:"siirrytään tilastoihin ",title:"Tilastot"}}}}),define("bundles/framework/bundle/mapstats/locale/fi",function(){}),Oskari.registerLocalization({lang:"sv",key:"MapStats",value:{tools:{table_icon:{tooltip:"Gå till statistik",title:"Statistik"},diagram_icon:{tooltip:"Öpna diagram",title:"Diagram"},statistics:{tooltip:"Gå till statistik ",title:"Statistik"}}}}),define("bundles/framework/bundle/mapstats/locale/sv",function(){}),Oskari.registerLocalization({lang:"en",key:"MapStats",value:{tools:{table_icon:{tooltip:"Goto Statistics mode",title:"Statistics"},diagram_icon:{tooltip:"Show diagram",title:"Diagram"},statistics:{tooltip:"Goto Statistics mode",title:"Statistics"}}}}),define("bundles/framework/bundle/mapstats/locale/en",function(){}),define("src/framework/mapstats/module",["oskari","jquery","bundles/framework/bundle/mapstats/plugin/StatsLayerPlugin","bundles/framework/bundle/mapstats/domain/StatsLayer","bundles/framework/bundle/mapstats/domain/StatsLayerModelBuilder","bundles/framework/bundle/mapstats/event/StatsVisualizationChangeEvent","bundles/framework/bundle/mapstats/event/FeatureHighlightedEvent","bundles/framework/bundle/mapstats/event/HoverTooltipContentEvent","css!resources/framework/bundle/mapstats/css/mapstats.css","bundles/framework/bundle/mapstats/locale/fi","bundles/framework/bundle/mapstats/locale/sv","bundles/framework/bundle/mapstats/locale/en"],function(e,t){return e.bundleCls("mapstats").category({create:function(){return null},update:function(e,t,n,r){e.alert("RECEIVED update notification "+r)}})}),requirejs.s.contexts._.nextTick=function(e){e()},require(["css"],function(e){e.setBuffer("#mapstatsHover_contentDiv {\n  padding: 5px; }\n")}),requirejs.s.contexts._.nextTick=requirejs.nextTick;
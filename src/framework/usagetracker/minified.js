Oskari.clazz.define("Oskari.mapframework.bundle.usagetracker.UsageTrackerBundleInstance",function(){},{__name:"UsageTracker",getName:function(){return this.__name},setSandbox:function(e){this.sandbox=e},getSandbox:function(){return this.sandbox},start:function(){var e=this;if(e.started)return;e.started=!0;var t=this.conf,n=(t?t.sandbox:null)||"sandbox",r=Oskari.getSandbox(n);e.sandbox=r,r.register(e);if(e.conf&&e.conf.logUrl&&e.conf.events){var i=null,s=function(t){e._logState()};for(var o=0,u=e.conf.events.length;o<u;o++)i=e.conf.events[o].toString(),e.eventHandlers[i]=s,r.registerForEventByName(e,i)}},update:function(){},stop:function(){var e=this,t=e.sandbox;if(e.conf&&e.conf.logUrl)for(var n in e.eventHandlers)t.unregisterFromEventByName(e,n);e.sandbox.unregister(e),e.started=!1},init:function(){return null},onEvent:function(e){var t=this.eventHandlers[e.getName()];if(!t)return;return t.apply(this,[e])},eventHandlers:{},_logState:function(){var e=this,t=e.conf.logUrl+"?"+e.sandbox.generateMapLinkParameters();jQuery.ajax({type:"GET",url:t})}},{protocol:["Oskari.bundle.BundleInstance","Oskari.mapframework.module.Module"]}),define("bundles/framework/bundle/usagetracker/instance",function(){}),define("src/framework/usagetracker/module",["oskari","jquery","bundles/framework/bundle/usagetracker/instance"],function(e,t){return e.bundleCls("usagetracker").category({create:function(){return e.clazz.create("Oskari.mapframework.bundle.usagetracker.UsageTrackerBundleInstance")},update:function(e,t,n,r){}})});